# [메인 마크다운.md](README.md)

# Section02. 타입스크립트 개론.md

<details>
<summary>펼치기/접기</summary>

## 타입스크립트란?
<details>
<summary>펼치기/접기</summary>

<br>

타입스크립트란 기존의 Javascript를 더 안전하게 사용할 수 있도록 타입에 관련된 여러가지 기능을 추가한 언어이다.  
쉽게 말해 Javascript의 확장판 이라고 볼 수 있다.

| Javascript |     Typescript    |
| ---------- | ----------------- |
| let a = 1; | let a:number = 1; |
| let b = 2; | let b:number = 2; |

자바스크립트 코드에서는 변수 선언시 변수의 타입을 지정하지 않는다.  
자바스크립트에서는 변수의 타입을 프로그래머가 직접 정의할 수 있는 방법이 없기 때문이다.

반면 타입스크립트 코드에서는 변수 a와 b 모두 number라는 숫자 타입을 갖도록 정의되어있다.  
이렇게 되면 a와 b 변수에는 숫자값 이외에는 넣을 수 없게 된다.  
number라는 숫자타입으로 고정해두었기 때문이다.  

기존 자바스크립트 코드에서 타입을 정의하는 타입스크립트만의 문법만 추가하면 타입스크립트 코드가 된다.  

이렇게 변수의 타입을 직접 지정하는 등 타입을 더 안전하게 사용할 수 있는 여러가지 기능들이 추가된 자바스크립트의 확장판이라고 볼 수 있다.  
보통 확장판이라고 하면 기존 기능들과 개념은 유지한 채 새로운 것 들이 추가된것들을 말한다.  

자바스크립트의 확장판인 타입스크립트에서는 우리가 알고있는 자바스크립트의 기본 문법들은 당연히 모두 쓸 수 있다.  
자바스크립트에 익숙해 있더라도 타입스크립트를 공부할 때 타입을 다루는 추가적인 기능들에 대해서만 따로 공부하면 된다.

### **자바스크립트의 확장판 타입스크립트가 만들어지게 된 이유는?**

자바스크립트의 인기가 매우 많았기 때문이다.  
사실 자바스크립트라는 언어는 웹 브라우저 안에서만 동작하도록 만들어졌고, 아주 간단한 사용자 상호작용을 처리하기 위해 만들어졌다.  
웹 사이트에서 버튼을 누르면 경고창을 띄워주는 정도의 상호작용을 하기 위해서 개발된 언어라는 것이다.  
따라서 자바스크립트는 굳이 엄격한 문법을 갖출 필요가 없었으며 대신 아주 유연하게 설계 되었다.  
버그로부터의 안정성이나 견고함은 일부 포기하는 대신 프로그래머가 아주 쉽고 빠르고 간결하게 코드를 작성하는데 중점을 두고 만들어졌다.  
간결한 프로그램을 만들고, 웹 브라우저에서만 동작할것이기 때문이다.

#### NodeJS의 등장

그러던 어느날 Node.js가 등장하게 되었다.  
Node.js는 자바스크립트의 런타임, 즉 실행환경이다.  

쉽게 말해 Node.js는 자바스크립트 코드를 어디서든 실행할 수 있도록 만들어주는 자바스크립트 구동기이다.  

웹브라우저에서만 실행될 수 있었던 자바스크립트를 Node.js 탄생 이후 어디서든 실행할 수 있게 되었다.   
이말은 곧 어떤 프로그램이든 자바스크립트를 이용해서 만들 수 있다는 이야기가 된다.  
그러자 기존의 자바스크립트를 만족스럽게 사용하던 프로그래머들이 자바스크립트를 이용해서 굉장히 다양한 프로그램들을 만들기 시작했다.  
웹서버를 개발하는것부터 시작해서, 페이스북이나 인스타그램 같은 모바일 어플리케이션이나 카카오톡 같은 데스크탑 어플리케이션을 만드는데에도 활용되었다.  
자바스크립트의 한계가 사라지면서 그야말로 전성기가 도래했다고 할 수 있다.  

이렇게 복잡한 대규모 어플리케이션을 자바스크립트로 개발하다 보니 자바스크립트가 엄격하지 않다는 한가지 문제가 있었다.  
이전의 자바스크립트는 간단한 프로그래밍을 개발하기 위해 만들어졌기에 유연했으나, 인기가 많아진 현재에는 간단하지 않은 복잡한 프로그램을 만드는데 활용되면서 오히려 유연함이 버그 발생 가능성을 높여서 프로그램의 전체적인 안정성을 떨어뜨려 버리는 단점이 되어버렸다.  

이런 자바스크립트의 문제점을 극복하기 위해서 자바스크립트의 기존 문법과 매력들은 그대로 유지한 채 안정성만 추가로 확보한 새로운 언어가 필요했다.  
이러한 배경에서 자바스크립트를 더 안전하게 사용할 수 있도록 타입과 관련된 여러가지 안정적인 기능들을 추가한 타입스크립트가 등장하게 되었다.  

### 결론

타입스크립트는 더 복잡한 상황에서 더 대규모의 프로그램을 자바스크립트로 만들기 위해 더 안정적으로 자바스크립트를 사용하기 위해 타입이라는 안전장치를 추가한 확장판 자바스크립트라고 이해할 수 있다.
</details>


## 자바스크립트의 한계점과 타입스크립트
<details>
<summary>펼치기/접기</summary>

<br>

- 자바스크립트에는 정확히 어떤 한계점이 있는가?
- 타입스크립트는 이 한계점을 어떻게 극복하는가?
- 타입스크립트가 다른 언어 대비 갖는 차별점은 무엇인가?

복잡한 대규모의 프로그램을 만들 때 자바스크립트로 하기에는 한계점이 있었기 때문에 타입스크립트가 있었고 등장했다.

모든 프로그래밍 언어는 타입 시스템을 가지고 있다.

### 타입 시스템이란?

프로그래밍 언어에서 사용할 수 있는 아주 여러가지 값들을 어떤 기준으로 묶어 타입으로 정할 지 결정하고 코드의 타입을 언제, 어떻게 검사할지 등 프로그래밍 언어를 사용할 때 타입과 관련해서 지켜야 하는 규칙들을 모아둔 체계이다.

- 값들을 어떤 기준으로 묶어 타입을 규정할 것인가?
- 코드의 타입을 언제 검사할 것인가?
- 어떻게 타입을 검사할 것인가?

쉽게 말해 타입 시스템은 언어의 타입 관련된 문법 체계라고도 볼 수 있다.

타입 시스템은 크게 두가지로 나눌 수 있다.

코드 실행 전 모든 변수의 타입을 고정적으로 결정하는 정적 시스템과, 
코드 실행 후 그때 그때 마다 유동적으로 변수의 타입을 결정하는 동적 타입 시스템

| 정적 타입 시스템 | 동적 타입 시스템 |
| --------------- | --------------- |
| **코드 실행 이전** 모든 변수의 타입을 고정적으로 결정 | **코드 실행 이후** 그때 그때 마다 유동적으로 변수의 타입을 결정 |

정적 타입시스템은 엄격하고 고정적인 시스템이라고 볼 수 있고, 동적 타입 시스템은 반대로 자유롭고 유연한 시스템이라고 볼 수 있다.

보통 C언어나 자바 같은 엄격한 문법을 가진 언어들은 정적 타입 시스템을 사용하고, 파이썬이나 자바스크립트 같은 유연한 문법을 가진 언어들은 동적 타입 시스템을 사용한다.

자바스크립트가 사용하는 동적 타입 시스템은 변수의 타입들을 코드가 실행되는 도중에 결정하기 때문에 코드에 미리 변수의 타입을 일일이 지정하지 않아도 되는 유연함을 장점으로 갖는다.

변수의 타입이 어떤 하나의 타입으로 고정되지 않고 변수애 담긴 값에 따라서 계속해서 동적으로 달라진다.

### 자바스크립트의 한계점

```javascript
let a = "hello" // 문자열
a = 20241231; // 숫자
```

위 코드를 보면, 변수 a는 첫 번째 라인에서 문자열 hello라는 값을 담기 때문에 문자열 타입인 String 타입이 되며, 두번째 라인에서는 숫자 값을 담기 때문에 숫자 타입인 Number 타입이 된다.

이런 특징은 하나의 변수에 다양한 타입의 값을 넣을 수 있기 때문에 변수 하나로 돌려가며 여기저기에 다 활용할 수 있다는 유연함을 장점으로 갖는다.

```javascript
let a = "hello" // 문자열
a = 20241231; // 숫자
a.toUppercase(); // 대문자 치환
```

가장 마지막 라인에서는 변수 a의 toUpperCase() 라는 문자열을 대문자로 바꿔주는 문자열 전용 메소드를 사용하고 있다.

이 코드를 실행하게 되면 당연히 오류가 발생하며 프로그램이 비정상적으로 종료된다.

toUpperCase는 문자열에만 사용할 수 있는 메서드인데, 변수 a는 숫자가 저장되어 있어 말도 안되는 동작을 하도록 코드가 작성되어 있기에 당연히 오류가 발생한다.

여기서 중요하게 살펴봐야 될 부분은 이 코드에서 오류가 발생하긴 하지만 실행이 되기는 된다는 것이다.

하지만 애초에 오류가 발생할 코드였다면 실행 전에 검사를 거쳐서 실행하지 못하도록 막는것이 좋다.

위 코드는 매우 간단해서 실행하자마자 어떤 오류가 있는지 바로 확인할 수 있지만, 복잡한 프로그램을 만들 때에는 코드도 매우 복잡해지고 양도 많아지게 되면서 오류들이 실행과 동시에 발생하지 않고 시간이 지난 뒤에 발생할 수 있다.  
이에 개발자들은 원래 잘 돌아갔는데 갑자기 왜 오류가 발생했을까? 당황하게 되며, 예상치 못한 오류의 발생으로 인해서 프로그램이 강제 종료되고 서비스가 마비될 수도 있다. 

예를들어 넷플릭스 서버라도 만든다고 가정하면 처음 실행했을 때 잘 돌아가다가, 더글로리나 오징어게임 같은 대작 컨텐츠를 보고 있는데 갑자기 어느샌가 오류가 발생해서 서비스 전체가 갑자기 셧다운 되고 먹통이 된다면 이용자들이 아주 큰 불편함을 겪게 된다.

위와같이 프로그램이 실행 중에 즉, 런타임에 오류가 발생하게 되면 아주 치명적인 문제가 된다.

반면 C언어나 자바같은 언어는 정적 타입 시스템을 가지고 있다.  
정적 타입 시스템은 코드를 실행하기 전에 모든 변수의 타입을 결정하는 시스템이다.  
그래서 자바스크립트와 반대로 변수를 선언함과 동시에 타입도 함께 명시해 주어야 한다.  

```java
String a = "hello";
int b = 123;
int c = a * b; // Error
```

위 코드를 이클립스나 인텔리제이 같은 IDE에서 작성한다면 코드 실행 전 바로 Error를 발생시킨다.  

자바와 같은 정적 타입 시스템을 사용하는 언어는 타입 관련된 오류가 있으면 에디터 상에서 오류를 바로 알려주고 코드를 실행하기 전 타입을 잘못 쓰진 않았는지 검사까지 모두 마치고 실행되기 때문에 오류가 있다면 애초에 실행되지 않는다.  

프로그래머가 의도치 않은 실수를 하더라도 미리 확인해 볼 수 있는 기회가 한번은 주어진다는 것이다.

그러나 정적 타입 시스템이 모든게 다 좋은것은 아니다.
정적 타입 시스템 언어에서는 모든 변수에 일일이 타입을 다 정의해야 되기 때문에 일단은 매우 귀찮고 직접 작성해야 하는 코드의 양이 상당히 늘어난다.

### 타입추론

타입스크립트는 좀 독특한 타입 시스템을 사용한다.  
자바스크립트의 동적 타입시스템과, 자바의 정적 타입 시스템을 혼합한것과 같은 독특한 타입 시스템을 사용한다.  
마치 정적인 타입 시스템처럼 변수의 타입을 코드 실행 전에 결정하고 타입 오류가 없는지 프로그램 실행 전에 코드를 검사한다.  
정적 타입 시스템처럼 안전하면서도 마치 동적인 타입시스템 처럼 모든 변수에 일일이 직접을 명시하지 않아도 된다.  

```javascript
let a = 1;
a.toUpperCase(); // Error 발생
```

위 코드는 타입스크립트 코드이다.
변수의 타입을 정의하지 않았음에도 불구하고 그럼에도 변수 a를 숫자 타입으로 자동으로 인지해서 코드에 오류가 있음을 알려준다.

타입스크립트는 이렇게 변수의 타입을 직접 정의하지 않아도 변수에 담기는 초기값을 기준으로 자동으로 알아서 타입을 추론한다.

변수 a의 숫자값 1로 초기화되고 있기 때문에 타입스크립트가 자동으로 a라는 변수를 Number타입으로 추론한다 (마치 인공지능처럼)

이처럼 정적 타입 시스템이 갖는 안정성을 채택하면서도 일일이 모든 변수의 타입을 선언해야 했던 그런 불편함을 동시에 해결한다.

결론적으로 타입스크립트의 독특한 타입시스템은 동적인 타입 시스템의 안전하지 않은 문제를 해결하면서도 정적인 타입 시스템의 귀찮음도 동시에 해결해주는 아주 멋진 타입 시스템이다.
이러한 타입 시스템을 점진적으로 타입을 결정한다고 해서 점진적 타입 시스템(Gradual Type System)이라고 한다.

쉽게말해 점진적으로 타입이 정의된 변수들에 대해서는 타입을 미리 결정하고 타입이 정의되어 있지 않은 변수들에 대해서는 타입스크립트가 알아서 자동으로 타입을 추론하는 스마트한 타입시스템이다.

| 정적 타입 시스템 | 점진적 타입 시스템 | 동적 타입 시스템 |
| --- | --- | --- |
| 자바 | 타입스크립트 | 자바스크립트 |
| 코드를 실행하기 전 정적으로 변수의 타입을 결정 | 1. 실행 전 검사를 통한 타입 안정성 확보  | 코드를 실행하면서 유동적으로 변수의 타입을 결정 |
| - 모든 변수에 일일이 타입 지정  - 타이핑 양 증가 | 2. 자동으로 변수의 타입을 추론 | - 코드의 타입 오류를 미리 검사할 수 없음. |
| - 유연하지 못함 |  |   - 예기치 못한 오류가 발생할 수 있음. |

모든 프로그래밍 언어에는 타입 시스템이 있고 타입 시스템은 변수의 타입을 언제 결정하느냐에 따라서 실행중에 결정하면 동적 타입 시스템이라고 하고, 실행 전에 결정하면 정적 타입 시스템으로 나뉜다.  
자바스크립트 같은 동적 타입 시스템을 채택하는 언어에서는 코드에 타입 관련 오류를 미리 검사할 수 없기 때문에 실행 도중에 예상치 못한 단점이 있다.  
반면 자바같은 정적 타입 시스템을 채택하는 언어에서는 이런 단점을 해결할 수 있지만 반대로 모든 변수에 일일이 다 타입을 지정해줘야 하는 불편함이 존재한다.  

타입스크립트는 점진적 타입 시스템을 채택해서 정적 타입 시스템처럼 프로그램 실행 전 타입을 올바르게 썼는지 타입 검사를 해서 안정성을 확보하면서도 마치 동적 타입 시스템처럼 변수에 일일이 모두 다 타입을 지정해주지 않아도 되는 유연함 까지 확보한 독특한 타입 시스템을 갖춘 언어이다.

</details>

## 타입스크립트의 동작 원리
<details>
<summary>펼치기/접기</summary>

<br>

### 대다수의 프로그래밍 언어는 어떻게 동작할까?
<details>
<summary>펼치기/접기</summary>

<br>

타입스크립트의 동작 방식을 정확히 이해하려면 대다수의 프로그래밍 언어들이 어떻게 동작하고 있는지 그 원리를 살펴볼 필요가 있다.  

먼저 대부분의 프로그래밍 언어는 컴퓨터보다 인간에게 더 친화적이다.  

컴퓨터는 인간과는 달리 바이트 코드나 기계어, 이진수 같은 아주 단순한 형태의 언어를 기반으로 동작한다.  

따라서 영어의 문법과 비슷한 프로그래밍 언어를 컴퓨터가 바로바로 이해하고 실행할 수 는 없다.  
컴퓨터는 인간의 언어로 작성된 코드를 실행하기 위해 스스로 해석하기 쉬운 형태로 변환하며, 이 과정을 컴파일이라고 부른다.  

프로그래밍 언어로 작성한 코드를 컴파일하면 컴퓨터가 이해할 수 있는 기계어 형태로 변환된다.  
컴퓨터는 변환된 기계어를 읽어 실행하고 결과적으로 코드가 실행되는 것이다.  
이렇게 코드를 컴파일 하는 역할은 컴파일러가 하게 된다.  

자바나 자바스크립트 같은 언어를 컴파일하면 바이트코드라는 형식으로 변환된다.  
(설명의 편의 상 앞으로 컴파일 결과 생성되는 컴퓨터가 이해할 수 있는 형태의 코드를 바이트 코드라고 부르겠다.)

#### 컴파일러는 어떤 과정을 거쳐 코드를 컴파일 할까?

`JavaScript` → `AST(추상 문법 트리)` → `바이트 코드`

컴파일러는 작성한 코드를 바로 바이트 코드로 변환하는 게 아니라 그 전에 AST 라는 특별한 형태로 변환한다.  

#### AST란?

추상 문법 트리라는 뜻으로, 코드의 공백이나 주석, 탭 등의 코드 실행에 관계없는 요소들은 모두 제거하고 트리 형태의 자료 구조에 코드를 쪼개서 저장해놓은 형태를 AST라고 부른다.  

코드를 AST로 변환한 뒤 마지막으로 컴파일러가 AST를 바이트 코드로 변환하고 컴파일이 종료된다.

1. Javascript Code  → AST
2. AST → Byte Code

대다수의 프로그래밍 언어들은 이러한 컴파일 과정을 거쳐 실행되게 된다. 
</details>

### 타입스크립트는 어떻게 실행될까?
<details>
<summary>펼치기/접기</summary>

<br>

다른 언어와 마찬가지로 실행하기 위해서는 컴파일 과정을 거쳐야 한다.

`TypeScript` → `AST(추상 문법 트리)` → `타입 검사` → `JavaScript`

첫번째 과정은 Javascript와 같이 AST로 변환된다.  
그 다음 AST를 바이트 코드로 변환하는것이 아니라 AST를 보고 코드상에 타입 오류가 없는지 검사하는 타입 검사라는 작업을 수행한다.  
만약 잘못된 코드를 작성해서 코드에 타입 오류가 있었다면 타입 검사 과정에서 실패하게 되고 컴파일이 중단된다.  
타입 오류가 없는 정상적인 코드라면 타입 검사를 성공적으로 통과하고 그 다음에는 AST를 바이트코드가 아닌 JavaScript 코드로 변환하고 컴파일이 종료된다.  

대부분의 언어를 컴파일 하면 바이트 코드가 만들어지지만, 타입스크립트 코드를 컴파일하면 자바스크립트 코드가 만들어진다.  

`TypeScript` → `AST(추상 문법 트리)` → `타입 검사` → `JavaScript`

`JavaScript`→ `AST(추상 문법 트리)` → `바이트 코드` → [실행]

이렇게 타입스크립트의 컴파일 결과로 만들어진 자바스크립트 코드는 Node.js나 웹브라우저 등을 통해 실행하면 다시 앞서 살펴 본 대다수의 언어들과 동일한 컴파일 과정을 거쳐서 실행되게 된다.  

중요한 점은 타입스크립트 코드의 컴파일 과정에 **타입 검사**가 포함되어있기 떄문에 검사를 성공해서 생성된 자바스크립트 코드는 타입 오류가 발생할 가능성이 낮은 안전한 자바스크립트 코드라는 것이다.  

타입스크립트에 작성한 String, Number 같은 타입 관련 코드는 타입 검사시에만 사용되고 타입 검사에 성공하여 자바스크립트 코드로 변경되면 코드상에서 사라지게 되므로 프로그램 실행 자체에는 영향을 미치지 않는다.  

#### 정리

타입스크립트는 AST 그리고 타입검사 과정을 거쳐 타입 검사가 성공하면 자바스크립트 코드로 변환된다.  
이때 만약 코드에 오류가 있다면 컴파일 도중 타입 검사 단계에서 실패하게 되므로 자바스크립트를 보다 더 안전하게 사용하는 미리 한번 코드를 검사하는 용도로 사용하게 된다고 볼 수 있다.  
</details>
</details>
</details>